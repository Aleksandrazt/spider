<Window x:Class="Spider.Views.Windows.ScreenshotEditorWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Ð ÐµÐ´Ð°ÐºÑ‚Ð¾Ñ€ ÑÐºÑ€Ð¸Ð½ÑˆÐ¾Ñ‚Ð°"
        Height="700"
        Width="1000"
        WindowStartupLocation="CenterScreen"
        Background="#2E2E2E"
        KeyDown="Window_KeyDown">
    
    <Window.Resources>
        <Style TargetType="Button" x:Key="ToolButton">
            <Setter Property="Width" Value="50"/>
            <Setter Property="Height" Value="50"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="Background" Value="#3E3E3E"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="FontSize" Value="20"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#4E4E4E"/>
                </Trigger>
            </Style.Triggers>
        </Style>
        
        <Style TargetType="Button" x:Key="ActionButton">
            <Setter Property="Padding" Value="20,10"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Opacity" Value="0.8"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- ÐŸÐ°Ð½ÐµÐ»ÑŒ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð² -->
        <Border Grid.Row="0" Background="#1E1E1E" Padding="10">
            <StackPanel Orientation="Horizontal">
                <Button x:Name="PenButton" 
                        Content="âœï¸" 
                        Style="{StaticResource ToolButton}"
                        ToolTip="ÐšÐ°Ñ€Ð°Ð½Ð´Ð°Ñˆ (P)"
                        Click="PenButton_Click"/>
                <Button x:Name="ArrowButton" 
                        Content="âžœ" 
                        Style="{StaticResource ToolButton}"
                        ToolTip="Ð¡Ñ‚Ñ€ÐµÐ»ÐºÐ° (A)"
                        Click="ArrowButton_Click"/>
                <Button x:Name="RectangleButton" 
                        Content="â–­" 
                        Style="{StaticResource ToolButton}"
                        ToolTip="ÐŸÑ€ÑÐ¼Ð¾ÑƒÐ³Ð¾Ð»ÑŒÐ½Ð¸Ðº (R)"
                        Click="RectangleButton_Click"/>
                <Button x:Name="EllipseButton" 
                        Content="â¬­" 
                        Style="{StaticResource ToolButton}"
                        ToolTip="Ð­Ð»Ð»Ð¸Ð¿Ñ (E)"
                        Click="EllipseButton_Click"/>
                <Button x:Name="TextButton" 
                        Content="T" 
                        Style="{StaticResource ToolButton}"
                        ToolTip="Ð¢ÐµÐºÑÑ‚ (T)"
                        Click="TextButton_Click"/>
                <Button x:Name="HighlightButton" 
                        Content="ðŸ–ï¸" 
                        Style="{StaticResource ToolButton}"
                        ToolTip="Ð’Ñ‹Ð´ÐµÐ»ÐµÐ½Ð¸Ðµ (H)"
                        Click="HighlightButton_Click"/>
                
                <Separator Width="2" Background="#4E4E4E" Margin="10,5"/>
                
                <!-- Ð’Ñ‹Ð±Ð¾Ñ€ Ñ†Ð²ÐµÑ‚Ð° -->
                <Border Width="50" Height="50" Margin="5" 
                        BorderBrush="White" BorderThickness="2"
                        Background="{Binding SelectedColor, RelativeSource={RelativeSource AncestorType=Window}}"
                        MouseLeftButtonDown="ColorBorder_Click"
                        Cursor="Hand"
                        ToolTip="Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ñ†Ð²ÐµÑ‚"/>
                
                <!-- Ð Ð°Ð·Ð¼ÐµÑ€ ÐºÐ¸ÑÑ‚Ð¸ -->
                <StackPanel Margin="10,0">
                    <TextBlock Text="Ð Ð°Ð·Ð¼ÐµÑ€" Foreground="White" FontSize="10" HorizontalAlignment="Center"/>
                    <ComboBox x:Name="BrushSizeComboBox" 
                              Width="60" 
                              SelectedIndex="1"
                              SelectionChanged="BrushSizeComboBox_SelectionChanged">
                        <ComboBoxItem Content="Ð¢Ð¾Ð½ÐºÐ¸Ð¹" Tag="2"/>
                        <ComboBoxItem Content="Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹" Tag="4"/>
                        <ComboBoxItem Content="Ð¢Ð¾Ð»ÑÑ‚Ñ‹Ð¹" Tag="8"/>
                        <ComboBoxItem Content="ÐžÑ‡ÐµÐ½ÑŒ Ñ‚Ð¾Ð»ÑÑ‚Ñ‹Ð¹" Tag="12"/>
                    </ComboBox>
                </StackPanel>
                
                <Separator Width="2" Background="#4E4E4E" Margin="10,5"/>
                
                <Button Content="â†¶" 
                        Style="{StaticResource ToolButton}"
                        ToolTip="ÐžÑ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ (Ctrl+Z)"
                        Click="UndoButton_Click"/>
                <Button Content="ðŸ—‘ï¸" 
                        Style="{StaticResource ToolButton}"
                        ToolTip="ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ Ð²ÑÑ‘"
                        Click="ClearButton_Click"/>
            </StackPanel>
        </Border>
        
        <!-- ÐžÐ±Ð»Ð°ÑÑ‚ÑŒ Ñ€Ð¸ÑÐ¾Ð²Ð°Ð½Ð¸Ñ -->
        <Border Grid.Row="1" Background="#2E2E2E" Padding="10">
            <ScrollViewer HorizontalScrollBarVisibility="Auto" 
                         VerticalScrollBarVisibility="Auto">
                <InkCanvas x:Name="DrawingCanvas"
                          Background="White"
                          MouseLeftButtonDown="DrawingCanvas_MouseDown"
                          MouseMove="DrawingCanvas_MouseMove"
                          MouseLeftButtonUp="DrawingCanvas_MouseUp">
                    <InkCanvas.DefaultDrawingAttributes>
                        <DrawingAttributes Color="Red" Height="4" Width="4"/>
                    </InkCanvas.DefaultDrawingAttributes>
                </InkCanvas>
            </ScrollViewer>
        </Border>
        
        <!-- ÐšÐ½Ð¾Ð¿ÐºÐ¸ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¹ -->
        <Border Grid.Row="2" Background="#1E1E1E" Padding="10">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Content="ÐžÑ‚Ð¼ÐµÐ½Ð°" 
                        Style="{StaticResource ActionButton}"
                        Background="#757575"
                        Click="CancelButton_Click"/>
                <Button Content="ðŸ’¾ Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ Ð² Ñ„Ð°Ð¹Ð»" 
                        Style="{StaticResource ActionButton}"
                        Background="#4CAF50"
                        Click="SaveButton_Click"/>
                <Button Content="ðŸ“‹ ÐšÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ" 
                        Style="{StaticResource ActionButton}"
                        Background="#2196F3"
                        Click="CopyButton_Click"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>

